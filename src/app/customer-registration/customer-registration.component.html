<div class="container"> 
    <h5 *ngIf="IsCustomerRegistration">Customer Registration</h5>
    <h5 *ngIf="!IsCustomerRegistration">Customer Details</h5>
    <form [formGroup]="customerRegistrationControl" class="form-horizontal formStyle"> 
    <fieldset [disabled]="!IsFormGroupEditable">
        <div class="row col-xs-12">
            <div class="col-sm-2">
                <label>Name</label>                   
            </div>
            <div class="col-sm-3">
                <input #nam type="text" id="name" formControlName="name" class="form-control"/>                
            </div>   
            <div class="row col-xs-12">
                <span class="text-danger" *ngIf="name.touched && name.hasError('required')">Please Enter Name Of The Applicant!</span>
                <span class="text-danger" *ngIf="name.touched && name.hasError('pattern')">Name should contain only Alphabets and Spaces</span>
            </div>         
        </div>     
        
        <div class="row col-xs-12">
            <div class="col-sm-2">
                <label>UserName</label>                 
            </div>
            <div class="col-sm-3">
                <input type="text" id="userName" formControlName="userNmae" class="form-control"/>                
            </div>    
            <div class="row col-xs-12">
                <span class="text-danger" *ngIf="userNmae.touched && userNmae.invalid">Please Enter User Name!</span>                
            </div>         
        </div>     
        <div class="row col-xs-12">
            <div class="col-sm-2">
                <label>Password</label>                 
            </div>
            <div class="col-sm-3">
                <input type="password" id="password" formControlName="password" class="form-control"/>                
            </div>            
            <div class="row col-xs-12">
                <span class="text-danger" *ngIf="password.touched && password.invalid">Please Enter Password!</span>                
            </div> 
        </div>     
        <div class="row col-xs-12">
            <div class="col-sm-2">
                <label>Guardian Type</label>                 
            </div>
            <div class="col-sm-3">
                <input type="text" id="guardianType" formControlName="guardianType" class="form-control"/>                 
            </div>        
            <div class="row col-xs-12">
                <span class="text-danger" *ngIf="guardianType.touched && guardianType.invalid">Please Enter Guardian Type!</span>                
            </div>     
        </div>     
        <div class="row col-xs-12">
            <div class="col-sm-2">
                <label>Guardian Name</label>                 
            </div>
            <div class="col-sm-3">
                <input type="text" id="guardianName" formControlName="guardianName" class="form-control"/>
            </div>     
            <div class="row col-xs-12">
                <span class="text-danger" *ngIf="guardianName.touched && guardianName.invalid">Please Enter Guardian Name!</span>                
            </div>       
        </div>     
        <div class="row col-xs-12">
            <div class="col-sm-2">
                <label>Address</label>                 
            </div>
            <div class="col-sm-4">
                <textarea rows="3" cols="30" id="address" formControlName="address" class="form-control">
                    </textarea>
            </div>
            <div class="row col-xs-12">
                <span class="text-danger" *ngIf="address.touched && address.invalid">Please Enter Address!</span>                
            </div>    
                      
        </div>
        <div class="row col-xs-12">
            <div class="col-sm-2">
                <label>Citizenship</label>                 
            </div>
            <div class="col-sm-3">
                <input type="text" id="citizen" formControlName="citizenship" class="form-control"/>
            </div>    
            <div class="row col-xs-12">
                <span class="text-danger" *ngIf="citizenship.touched && citizenship.invalid">Please Enter Citizenship!</span>                
            </div>            
        </div>   
        
          <div class="row col-xs-12">
                <div class="col-sm-2">
                    <label>Country</label>                 
                </div>
                <div class="col-sm-3">
                    <select #selectedCountry id="countryId" formControlName="country" class="dropdown col-sm-12" (change)="onCountryChange(selectedCountry.value)">                        
                        <Option class="dropdown-item" value="" disabled></Option>
                        <Option class="dropdown-item" *ngFor="let countryModel of countriesModel; let i = index" 
                        [selected]="country.value === countryModel.name"
                        [value]="countryModel.id">{{countryModel.name}}</Option>
                    </select>
                </div>   
                <div class="row col-xs-12">
                    <span class="text-danger" *ngIf="country.touched && country.invalid">Please Enter Country!</span>                
                </div>      
            </div>   

            <div class="row col-xs-12">
                <div class="col-sm-2">
                    <label>State</label>                 
                </div>
                <div class="col-sm-3">
                    <select #selectedState id="stateId" formControlName="state"  class="dropdown col-sm-12">
                        <Option class="dropdown-item" value="" disabled></Option>
                        <Option class="dropdown-item" *ngFor="let stateModel of statesForSelectedCountry; let i = index" 
                        [selected]="state.value === stateModel.name"
                        value="{{stateModel.id}}">{{stateModel.name}}</Option>
                    </select>
                </div>
                <div class="row col-xs-12">
                    <span class="text-danger" *ngIf="state.touched && state.invalid">Please Enter State!</span>                
                </div>         
            </div> 
            
            <div class="row col-xs-12">
                <div class="col-sm-2">
                    <label>Email Address</label>                 
                </div>
                <div class="col-sm-3">
                    <input type="email" id="email" formControlName="EmailAddress" class="form-control"/>
                </div> 
                <div class="row col-xs-12">
                    <span class="text-danger" *ngIf="EmailAddress.touched && EmailAddress.hasError('required')">Please Enter Email Address!</span>                
                    <span class="text-danger" *ngIf="EmailAddress.touched && EmailAddress.hasError('email')">Please Enter Valid Email Address!</span>                
                </div>               
            </div>   

            <div class="row col-xs-12">
                <div class="col-sm-2">
                    <label>Gender</label>                 
                </div>
                <div class="col-sm-1" *ngFor="let gender of GenderModel; let i = index">
                    <input class="form-check-input" type="radio" id="gender{{i}}" formControlName="gender" value="{{gender}}">{{gender}}
                </div>            
            </div>   

            <div class="row col-xs-12">
                <div class="col-sm-2">
                    <label>Marital Status</label>                 
                </div>
                <div class="col-sm-1" *ngFor="let maritalStatus of MaritalStatusModel; let i = index">
                    <input  class="form-check-input" type="radio" id="maritalStatus{{i}}" formControlName="maritalStatus" value="{{maritalStatus}}">{{maritalStatus}}
                </div>            
            </div>  
            
            <div class="row col-xs-12">
                <div class="col-sm-2">
                    <label>Contact Number</label>                 
                </div>
                <div class="col-sm-3">
                    <input type="text" id="contactNumber" formControlName="contactNo" class="form-control" maxlength="10"/>
                </div>            
                <div class="row col-xs-12">
                    <span class="text-danger" *ngIf="contactNo.touched && contactNo.invalid">Please Enter Contact Number (10 digits)!</span>                
                </div>         
            </div>   

            <div class="row col-xs-12">
                <div class="col-sm-2">
                    <label>Date Of Birth</label>                 
                </div>
                <div class="col-sm-4">
                    <input #selectedDOB type="date" id="dob" formControlName="dob" class="form-control" 
                    (change)="onDOBChanged(selectedDOB.value)" min="maxDate"/>
                </div>     
                <div class="row col-xs-12">
                    <span class="text-danger" *ngIf="dob.touched && dob.hasError('required')">Please Enter Date Of Birth!</span>                
                </div>       
                <div class="row col-xs-12">
                    <span class="text-danger" *ngIf="dob.touched && dob.hasError('Invalid DOD')">Please Enter DOB (Where age > 18) !</span>                
                </div>                     
            </div>               

            <div class="row col-xs-12">
                <div class="col-sm-2">
                    <label>Registration Date</label>                 
                </div>
                <div class="col-sm-3">
                    <input type="text" id="regDate" formControlName="registrationDate" class="form-control">
                </div>            
            </div>                    
            
            <div class="row col-xs-12">
                <div class="col-sm-2">
                    <label>Account Type</label>                 
                </div>
                <div class="col-sm-3">
                    <select #selectedAccount id="accountType" formControlName="accountType" class="dropdown col-sm-12" 
                        (change)="onAccountTypeChange(selectedAccount.value)">
                        <Option class="dropdown-item" value="" disabled></Option>
                        <Option class="dropdown-item" *ngFor="let accountType of AccountTypeModel; let i = index" [ngValue]="accountType">{{accountType}}</Option>
                    </select>
                </div>       
                <div class="row col-xs-12">
                    <span class="text-danger" *ngIf="accountType.touched && accountType.invalid">Please Select Account Type!</span>                
                </div>            
            </div>  

            <div class="row col-xs-12">
                <div class="col-sm-2">
                    <label>Branch Name</label>                 
                </div>
                <div class="col-sm-3">
                    <input type="text" id="branchName" formControlName="branchName" class="form-control"/>
                </div>   
                <div class="row col-xs-12">
                    <span class="text-danger" *ngIf="branchName.touched && branchName.invalid">Please Enter Branch Name!</span>                
                </div>                
            </div>          

            <div class="row col-xs-12">
                <div class="col-sm-2">
                    <label>Citizen Status</label>                 
                </div>
                <div class="col-sm-3">
                    <input type="text" id="citizenStatus" formControlName="citizenStatus" class="form-control"/>
                </div>        
                <div class="row col-xs-12">
                    <span class="text-danger" *ngIf="citizenStatus.touched && citizenStatus.invalid">Please Enter Citizen Status!</span>                
                </div>      
            </div>  

            <div class="row col-xs-12">
                <div class="col-sm-2">
                    <label>Initial Deposit Amount</label>                 
                </div>
                <div class="col-sm-3">
                    <input type="text" id="initialDepositAmount" formControlName="initialDepositAmount" class="form-control"/>
                </div>    
                <div class="row col-xs-12">
                    <span class="text-danger" *ngIf="initialDepositAmount.touched && initialDepositAmount.invalid">Please Enter Initial Deposit Amount!</span>                
                </div>         
            </div>         

            <div class="row col-xs-12">
                <div class="col-sm-2">
                    <label>Identification Proof Type</label>                 
                </div>
                <div class="col-sm-3">
                    <select id="idProofType" formControlName="identificationProofType" class="dropdown col-sm-12">
                        <Option class="dropdown-item" value="" disabled></Option>
                        <Option class="dropdown-item" *ngFor="let idType of IdentificationProofTypeModel; let i = index" value="{{idType}}">{{idType}}</Option>
                    </select>
                </div>                              
            </div>       

            <div class="row col-xs-12">
                <div class="col-sm-2">
                    <label>Identification Document No</label>                 
                </div>
                <div class="col-sm-3">
                    <input type="text" id="identificationDocumentNo" formControlName="identificationDocumentNumer" class="form-control"/>
                </div>            
                <div class="row col-xs-12">
                    <span class="text-danger" *ngIf="identificationDocumentNumer.touched && identificationDocumentNumer.invalid">Please Select Identification Document Number!</span>                
                </div>
            </div>       

            <div class="row col-xs-12">
                <div class="col-sm-2">
                    <label>Ref Acc Holder Name</label>                 
                </div>
                <div class="col-sm-3">
                    <input type="text" id="refAccName" formControlName="referenceAccountHolderName" class="form-control"/>
                </div>  
                <div class="row col-xs-12">
                    <span class="text-danger" *ngIf="referenceAccountHolderName.touched && referenceAccountHolderName.invalid">Please Select Reference Account Holder Name!</span>                
                </div>        
            </div>    

            <div class="row col-xs-12">
                <div class="col-sm-2">
                    <label>Ref Acc Holder Number</label>                 
                </div>
                <div class="col-sm-3">
                    <input type="number" id="refAccNameNo" formControlName="referenceAccountHolderNumber" class="form-control"/>
                </div>       
                <div class="row col-xs-12">
                    <span class="text-danger" *ngIf="referenceAccountHolderNumber.touched && referenceAccountHolderNumber.invalid">Please Select Reference Account Holder Number!</span>                
                </div>     
            </div>    

            <div class="row col-xs-12">
                <div class="col-sm-2">
                    <label>Ref Acc Holder Address</label>                 
                </div>
                <div class="col-sm-4">
                    <textarea rows="3" cols="30" id="refaddress" formControlName="referenceAccountHolderAddress" class="form-control">
                        </textarea>
                </div>    
                <div class="row col-xs-12">
                    <span class="text-danger" *ngIf="referenceAccountHolderAddress.touched && referenceAccountHolderAddress.invalid">Please Select Reference Account Holder Address!</span>                
                </div>          
            </div>

            <div class="row col-sm-2">
                <button type="submit" class="btn btn-primary" (click)="onCustomerRegistrationFormSubmitted()" [disabled]="customerRegistrationControl.invalid || !IsFormGroupEditable">Submit</button>
            </div>
    </fieldset>   
    </form>   
    </div>
    

